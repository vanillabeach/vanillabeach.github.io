{"version":3,"file":"static/js/718.dc5cfbe4.chunk.js","mappings":"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","sources":["webpack://2024/./src/components/year/styles.module.css?07eb","components/year/year.tsx","webpack://2024/./src/slides/Channel4/styles.module.css?0626","webpack://2024/./src/slides/Channel4/components/logo/styles.module.css?0e80","slides/Channel4/components/logo/index.tsx","webpack://2024/./src/slides/Channel4/components/angledPage/styles.module.css?9d01","slides/Channel4/components/angledPage/index.tsx","slides/Channel4/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"date\":\"styles_date__H0UBu\",\"black\":\"styles_black__gJz01\",\"blue\":\"styles_blue__W-SZG\",\"purple\":\"styles_purple__DjlBU\",\"white\":\"styles_white__-41bO\"};","import { memo } from 'react';\nimport classNames from './styles.module.css';\n\nexport interface YearProps {\n  children: React.ReactNode;\n  color?: 'black' | 'white' | 'blue' | 'purple' | undefined;\n}\n\nconst Year = memo(function Year(props: YearProps) {\n  const { children, color } = props;\n  let css = `${classNames.date} `;\n  switch (color) {\n    case 'black':\n      css += `${classNames.black}`;\n      break;\n    case 'blue':\n      css += `${classNames.blue}`;\n      break;\n    case 'purple':\n      css += `${classNames.purple}`;\n      break;\n    case 'white':\n      css += `${classNames.white}`;\n      break;\n    default:\n      css += `${classNames.black}`;\n  }\n\n  return <h1 className={css}>{children}</h1>;\n});\n\nexport default Year;\n","// extracted by mini-css-extract-plugin\nexport default {\"art\":\"styles_art__Y3F7v\",\"artContainer\":\"styles_artContainer__UKT1V\",\"artPadding\":\"styles_artPadding__a-hWG\",\"copyContainer\":\"styles_copyContainer__Rhf32\",\"container\":\"styles_container__sjLD6\",\"content\":\"styles_content__W7tFV\",\"copy\":\"styles_copy__DFYLv\",\"link\":\"styles_link__hprnm\"};","// extracted by mini-css-extract-plugin\nexport default {\"art\":\"styles_art__DytoM\"};","import * as THREE from 'three';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { isWithinViewport } from '../../../../utils';\nimport classNames from './styles.module.css';\n\nconst loader = new GLTFLoader();\n\nfunction modelLoader(url: string): Promise<THREE.Group<THREE.Object3DEventMap>> {\n  return new Promise((resolve, reject) => {\n    loader.load(url, (data) => resolve(data.scene), undefined, reject);\n  });\n}\n\nexport interface LogoParams {\n  parentContainer: HTMLDivElement | null;\n}\n\nexport default function Logo(params: LogoParams) {\n  const { parentContainer } = params;\n  const canvasContainerRef = useRef<HTMLDivElement>(null);\n  const [renderer, setRenderer] = useState<THREE.WebGLRenderer>();\n  const [camera, setCamera] = useState<THREE.PerspectiveCamera>();\n  const [scene, setScene] = useState<THREE.Scene>();\n  const [logoPieces, setLogoPieces] = useState<Array<THREE.Group<THREE.Object3DEventMap>>>(null!);\n  const [logoPiecePositions, setLogoPiecePositions] = useState<Array<number>>(null!);\n  const logoPieceSpeeds = useMemo(() => [35, 77, 48, 10, 56, 42, 67, 81, 95], []);\n  const [piecesReady, setPiecesReady] = useState<boolean>(false);\n  const [piecesAdded, setPiecesAdded] = useState<boolean>(false);\n  const light1 = useMemo(() => new THREE.SpotLight(0xff00f0, 255), []);\n  const light2 = useMemo(() => new THREE.SpotLight(0x0d58d3, 255), []);\n\n  const loadLogo = useCallback(async () => {\n    const pieces = [\n      await modelLoader('/models/channel4.0.glb'),\n      await modelLoader('/models/channel4.1.glb'),\n      await modelLoader('/models/channel4.2.glb'),\n      await modelLoader('/models/channel4.3.glb'),\n      await modelLoader('/models/channel4.4.glb'),\n      await modelLoader('/models/channel4.5.glb'),\n      await modelLoader('/models/channel4.6.glb'),\n      await modelLoader('/models/channel4.7.glb'),\n      await modelLoader('/models/channel4.8.glb'),\n    ];\n\n    setLogoPieces(pieces);\n    setLogoPiecePositions(pieces.map((piece) => piece.position.y));\n    setPiecesReady(true);\n  }, []);\n\n  const setYPos = useCallback(() => {\n    if (!camera || !renderer || !scene || !parentContainer || !logoPieces) {\n      return;\n    }\n\n    const offset = parentContainer.getBoundingClientRect().top;\n\n    logoPieces.forEach((logoPiece, index) => {\n      logoPiece.position.y = logoPiecePositions[index] - offset / logoPieceSpeeds[index];\n    });\n  }, [camera, parentContainer, renderer, scene, logoPieces, logoPiecePositions, logoPieceSpeeds]);\n\n  useEffect(() => {\n    if (!scene || !renderer || !camera) {\n      return;\n    }\n\n    if (!piecesReady) {\n      loadLogo();\n      return;\n    }\n\n    if (!piecesAdded) {\n      logoPieces.forEach((piece) => scene.add(piece));\n      setPiecesAdded(true);\n      renderer.render(scene, camera);\n    }\n  }, [camera, loadLogo, scene, logoPieces, piecesAdded, piecesReady, setYPos, renderer]);\n\n  useEffect(() => {\n    if (!renderer || !canvasContainerRef?.current || !scene || !camera) {\n      return;\n    }\n    if (canvasContainerRef.current.hasChildNodes() === false) {\n      canvasContainerRef.current.appendChild(renderer.domElement);\n      setYPos();\n    }\n  }, [renderer, canvasContainerRef, camera, scene, setYPos]);\n\n  useEffect(() => {\n    if (!parentContainer) {\n      return;\n    }\n\n    const { offsetWidth, offsetHeight } = parentContainer;\n    const width = offsetWidth / 2;\n    const height = offsetHeight;\n    const zoom = 50 - Math.sqrt(width);\n    const _camera = new THREE.PerspectiveCamera(30, 1, 0.1, 2000);\n\n    _camera.rotateX(0.0);\n    _camera.rotateZ(-0.0);\n    _camera.position.y = 4.5;\n    _camera.position.z = zoom;\n    _camera.aspect = width / height;\n    _camera.updateProjectionMatrix();\n\n    light1.position.setY(10);\n    light1.position.setZ(5);\n    light2.position.setY(-5);\n    light2.position.setZ(5);\n    setCamera(_camera);\n\n    const _scene = new THREE.Scene();\n    _scene.background = new THREE.Color(0xffffff);\n    _scene.add(light1);\n    _scene.add(light2);\n    setScene(_scene);\n\n    const _renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      preserveDrawingBuffer: true,\n      alpha: false,\n    });\n\n    _renderer.setSize(width, height);\n    setRenderer(_renderer);\n  }, [canvasContainerRef, light1, light2, parentContainer]);\n\n  useEffect(() => {\n    const scroll = () => {\n      if (!scene || !camera || !renderer) {\n        return;\n      }\n      if (!canvasContainerRef?.current || !isWithinViewport(canvasContainerRef.current)) {\n        return;\n      }\n\n      setYPos();\n      renderer.render(scene, camera);\n    };\n\n    const resize = () => {\n      if (!scene || !camera || !renderer || !parentContainer || !canvasContainerRef?.current) {\n        return;\n      }\n\n      renderer.setSize(0, 0);\n      canvasContainerRef.current.style.width = '0px';\n      canvasContainerRef.current.style.height = '0px';\n      requestAnimationFrame(() => {\n        if (!canvasContainerRef?.current) {\n          return;\n        }\n\n        const { offsetWidth, offsetHeight } = parentContainer;\n        const width = offsetWidth / 2;\n        const height = offsetHeight;\n        canvasContainerRef.current.style.width = `${width}px`;\n        canvasContainerRef.current.style.height = `${height}px`;\n        camera.aspect = width / height;\n        camera.updateProjectionMatrix();\n        renderer.setSize(width, height);\n        renderer.render(scene, camera);\n      });\n    };\n\n    window.addEventListener('scroll', scroll);\n    window.addEventListener('resize', resize);\n\n    return () => {\n      window.removeEventListener('scroll', scroll);\n      window.removeEventListener('resize', resize);\n    };\n  }, [camera, renderer, scene, setYPos, parentContainer]);\n\n  return <div className={classNames.art} ref={canvasContainerRef}></div>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"canvas\":\"styles_canvas__Urte4\",\"show\":\"styles_show__vrTC6\"};","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { loadImage, isWithinViewport } from '../../../../utils';\n\nimport classNames from './styles.module.css';\nimport Image3DBase from './images/3d-base.png';\nimport Image3DBlueText from './images/3d-blue-text.png';\nimport Image3DLinkText from './images/3d-link-text.png';\nimport Image3DMy4oD from './images/3d-my4od.png';\nimport Image3DSlider1 from './images/3d-slider1.png';\nimport Image3DSlider2 from './images/3d-slider2.png';\nimport Image3DSlider3 from './images/3d-slider3.png';\nimport Image3DSlider4 from './images/3d-slider4.png';\nimport Image3DThumbnails from './images/3d-thumbnails.png';\n\nexport interface AngledPageParams {\n  parentContainer: HTMLDivElement | null;\n}\n\nexport default function AngledPage(params: AngledPageParams) {\n  const { parentContainer } = params;\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [ctx, setCtx] = useState<CanvasRenderingContext2D | null>();\n  const [backgroundImages, setBackgroundImages] = useState<Array<HTMLImageElement>>(null!);\n  const backgroundParallaxValues = useMemo(() => [1.35, 1.77, 1.48, 1.1, 1.56, 1.42, 1.67, 1.81, 1.95, 1.77], []);\n  const [imagesLoaded, setImagesLoaded] = useState<boolean>(false);\n\n  const loadBackgroundImages = useCallback(async () => {\n    setBackgroundImages([\n      await loadImage(Image3DBase),\n      await loadImage(Image3DBlueText),\n      await loadImage(Image3DLinkText),\n      await loadImage(Image3DMy4oD),\n      await loadImage(Image3DSlider1),\n      await loadImage(Image3DSlider2),\n      await loadImage(Image3DSlider3),\n      await loadImage(Image3DSlider4),\n      await loadImage(Image3DThumbnails),\n    ]);\n\n    setImagesLoaded(true);\n  }, []);\n\n  const paintPieces = useCallback(() => {\n    if (!ctx || !parentContainer || !backgroundImages) {\n      return;\n    }\n\n    const { top } = parentContainer.getBoundingClientRect();\n    const x = 0;\n\n    backgroundImages.forEach((image, index) => {\n      const y = top * backgroundParallaxValues[index] + parentContainer.offsetHeight / 4;\n      ctx.drawImage(image, x, y, image.width, image.height);\n    });\n  }, [ctx, backgroundImages, backgroundParallaxValues, parentContainer]);\n\n  const paint = useCallback(() => {\n    if (!ctx || !parentContainer || !isWithinViewport(parentContainer)) {\n      return;\n    }\n\n    ctx.clearRect(0, 0, parentContainer.offsetWidth, parentContainer.offsetHeight);\n    paintPieces();\n  }, [ctx, paintPieces, parentContainer]);\n\n  useEffect(() => {\n    if (canvasRef?.current) {\n      setCtx(canvasRef.current.getContext('2d', { alpha: false }));\n    }\n  }, [canvasRef]);\n\n  const resizeCanvas = useCallback(() => {\n    if (!canvasRef?.current || !parentContainer) {\n      return;\n    }\n\n    const canvas = canvasRef.current;\n    canvas.setAttribute('width', '0');\n    canvas.setAttribute('height', '0');\n    canvas.style.width = '0px';\n    canvas.style.height = '0px';\n\n    requestAnimationFrame(() => {\n      canvas.setAttribute('width', `${parentContainer.offsetWidth / 2}`);\n      canvas.setAttribute('height', `${parentContainer.offsetHeight}`);\n      canvas.style.width = `${parentContainer.offsetWidth / 2}px`;\n      canvas.style.height = `${parentContainer.offsetHeight}px`;\n      paint();\n    });\n  }, [paint, parentContainer]);\n\n  useEffect(() => {\n    if (imagesLoaded === false) {\n      loadBackgroundImages();\n      return;\n    }\n\n    resizeCanvas();\n    paint();\n    canvasRef.current?.classList.add(classNames.show);\n  }, [canvasRef, imagesLoaded, loadBackgroundImages, paint, resizeCanvas]);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      paint();\n    };\n\n    const handleResize = () => {\n      resizeCanvas();\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [paint, resizeCanvas]);\n\n  return <canvas className={classNames.canvas} ref={canvasRef}></canvas>;\n}\n","import classNames from './styles.module.css';\nimport { useEffect, useState, useRef } from 'react';\nimport Logo from './components/logo';\nimport AngledPage from './components/angledPage';\nimport debounce from 'debounce';\nimport { config } from '../../data/config';\nimport Year from '../../components/year/year';\n\nexport default function Channel4() {\n  const parentContainerRef = useRef<HTMLDivElement>(null);\n  const [parentContainer, setParentContainer] = useState<HTMLDivElement>(null!);\n  const [showFullContent, setShowFullContent] = useState<boolean>(\n    window.innerWidth > config.mobileWaxWidth,\n  );\n\n  useEffect(() => {\n    const handleWidth = debounce(() => {\n      setShowFullContent(window.innerWidth > config.mobileWaxWidth);\n    }, 10);\n\n    window.addEventListener('resize', handleWidth);\n\n    return () => {\n      window.removeEventListener('resize', handleWidth);\n    };\n  }, [showFullContent]);\n\n  useEffect(() => {\n    if (parentContainerRef?.current && parentContainer === null) {\n      setParentContainer(parentContainerRef.current);\n    }\n  }, [parentContainer, parentContainerRef]);\n\n  return (\n    <div className={classNames.container}>\n      <div className={classNames.content} ref={parentContainerRef}>\n        <section className={classNames.copyContainer}>\n          <div className={classNames.copy}>\n            <Year color=\"purple\">2012</Year>\n            <h1 className=\"text-4xl font-medium mb-3\">CHANNEL 4</h1>\n            <p className=\"mb-3\">\n              Channel 4 is one of UK&apos;s best known commercial television stations, with a strong\n              internet presence thanks to their on-demand web and mobile applications.\n            </p>\n            <p className=\"mb-3\">\n              I joined their IT department as a contractor to help build and maintain their website,\n              which at the time consisted of a series of microsites. My work involved creating image\n              and media assets, working extensively with &quot;plain&quot; JavaScript application\n              code, and working with multiple content management systems.\n            </p>\n            <p>\n              Notable projects that I worked on include the{' '}\n              <a\n                className={classNames.link}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href=\"https://www.channel4.com/media/documents/press/news/Paralympic%20Booklet.pdf\"\n              >\n                2012 Paralympics campaign\n              </a>\n              , building and integrating assets for the launch of{' '}\n              <a\n                className={classNames.link}\n                href=\"https://en.wikipedia.org/wiki/4seven\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                4Seven\n              </a>\n              , and implementing a unified login system for Channel4&apos;s audience.\n            </p>\n          </div>\n        </section>\n        {showFullContent && (\n          <section className={classNames.art}>\n            <AngledPage parentContainer={parentContainer} />\n            <Logo parentContainer={parentContainer} />\n          </section>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["memo","props","children","color","css","concat","classNames","_jsx","className","loader","GLTFLoader","modelLoader","url","Promise","resolve","reject","load","data","scene","undefined","Logo","params","parentContainer","canvasContainerRef","useRef","renderer","setRenderer","useState","camera","setCamera","setScene","logoPieces","setLogoPieces","logoPiecePositions","setLogoPiecePositions","logoPieceSpeeds","useMemo","piecesReady","setPiecesReady","piecesAdded","setPiecesAdded","light1","THREE","light2","loadLogo","useCallback","async","pieces","map","piece","position","y","setYPos","offset","getBoundingClientRect","top","forEach","logoPiece","index","useEffect","add","render","current","hasChildNodes","appendChild","domElement","offsetWidth","offsetHeight","width","height","zoom","Math","sqrt","_camera","rotateX","rotateZ","z","aspect","updateProjectionMatrix","setY","setZ","_scene","background","_renderer","antialias","preserveDrawingBuffer","alpha","setSize","scroll","isWithinViewport","resize","style","requestAnimationFrame","window","addEventListener","removeEventListener","art","ref","AngledPage","canvasRef","ctx","setCtx","backgroundImages","setBackgroundImages","backgroundParallaxValues","imagesLoaded","setImagesLoaded","loadBackgroundImages","loadImage","Image3DBase","Image3DBlueText","Image3DLinkText","Image3DMy4oD","Image3DSlider1","Image3DSlider2","Image3DSlider3","Image3DSlider4","Image3DThumbnails","paintPieces","image","drawImage","paint","clearRect","getContext","resizeCanvas","canvas","setAttribute","_canvasRef$current","classList","show","handleScroll","handleResize","Channel4","parentContainerRef","setParentContainer","showFullContent","setShowFullContent","innerWidth","config","mobileWaxWidth","handleWidth","debounce","container","_jsxs","content","copyContainer","copy","Year","link","target","rel","href"],"sourceRoot":""}