{"version":3,"file":"static/js/460.15f23067.chunk.js","mappings":"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","sources":["webpack://2024/./src/components/year/styles.module.css?07eb","components/year/year.tsx","webpack://2024/./src/slides/Synthesia/styles.module.css?12bc","slides/Synthesia/components/videoOverlay.tsx","slides/Synthesia/components/sideBarsOverlay.tsx","slides/Synthesia/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"date\":\"styles_date__H0UBu\",\"black\":\"styles_black__gJz01\",\"blue\":\"styles_blue__W-SZG\",\"purple\":\"styles_purple__DjlBU\",\"white\":\"styles_white__-41bO\"};","import { memo } from 'react';\nimport classNames from './styles.module.css';\n\nexport interface YearProps {\n  children: React.ReactNode;\n  color?: 'black' | 'white' | 'blue' | 'purple' | undefined;\n}\n\nconst Year = memo(function Year(props: YearProps) {\n  const { children, color } = props;\n  let css = `${classNames.date} `;\n  switch (color) {\n    case 'black':\n      css += `${classNames.black}`;\n      break;\n    case 'blue':\n      css += `${classNames.blue}`;\n      break;\n    case 'purple':\n      css += `${classNames.purple}`;\n      break;\n    case 'white':\n      css += `${classNames.white}`;\n      break;\n    default:\n      css += `${classNames.black}`;\n  }\n\n  return <h1 className={css}>{children}</h1>;\n});\n\nexport default Year;\n","// extracted by mini-css-extract-plugin\nexport default {\"art\":\"styles_art__LIWpi\",\"artContainer\":\"styles_artContainer__hctFi\",\"artPadding\":\"styles_artPadding__apxjo\",\"copyContainer\":\"styles_copyContainer__Vz8tV\",\"static\":\"styles_static__tVnjw\",\"show\":\"styles_show__Lx9PU\",\"sidebars\":\"styles_sidebars__U63JN\",\"container\":\"styles_container__fYMZW\",\"content\":\"styles_content__X4g-Q\",\"copy\":\"styles_copy__BBYmG\",\"video\":\"styles_video__LjHAo\",\"link\":\"styles_link__x7LQ-\"};","import { useRef, useEffect } from 'react';\nimport * as THREE from 'three';\nimport classNames from '../styles.module.css';\n\nconst MAX_CHUNK_SIZE = 8.0; // Maximum chunk size in pixels\n\ninterface VideoOverlayProps {\n  width: number;\n  height: number;\n}\n\nexport const VideoOverlay = ({ width, height }: VideoOverlayProps) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    if (!canvasRef.current) return;\n\n    const canvas = canvasRef.current;\n\n    // Setup scene\n    const scene = new THREE.Scene();\n    const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true });\n\n    // TV static shader\n    const staticMaterial = new THREE.ShaderMaterial({\n      uniforms: {\n        time: { value: 0 },\n        chunkSize: { value: 1.0 },\n        resolution: { value: new THREE.Vector2(canvas.clientWidth, canvas.clientHeight) },\n      },\n      vertexShader: `\n                varying vec2 vUv;\n                void main() {\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                }\n            `,\n      fragmentShader: `\n                uniform float time;\n                uniform float chunkSize;\n                uniform vec2 resolution;\n                varying vec2 vUv;\n                \n                float random(vec2 st) {\n                    return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);\n                }\n                \n                void main() {\n                    vec2 uv = vUv;\n                    \n                    // Pixelate/chunk the UV coordinates based on chunkSize\n                    vec2 pixelSize = chunkSize / resolution;\n                    vec2 chunkedUV = floor(uv / pixelSize) * pixelSize;\n                    \n                    // Generate noise based on chunked position and time\n                    float noise = random(chunkedUV * 100.0 + time * 10.0);\n                    \n                    // Add some scan lines\n                    float scanline = sin(uv.y * 800.0 + time * 5.0) * 0.05;\n                    noise += scanline;\n                    \n                    // Pick random color: blue (#0d58d3) or purple (#ff00ff)\n                    float colorChoice = random(chunkedUV * 50.0 + time * 10.0);\n                    vec3 blue = vec3(0.051, 0.345, 0.827);   // #0d58d3\n                    vec3 purple = vec3(0.0, 1.0, 1.0);        // #08d6ffff\n                    vec3 baseColor = colorChoice > 0.5 ? blue : purple;\n                    \n                    vec3 color = baseColor * noise;\n                    \n                    gl_FragColor = vec4(color, 1.0);\n                }\n            `,\n      transparent: false,\n    });\n\n    // Create fullscreen quad\n    const geometry = new THREE.PlaneGeometry(2, 2);\n    const mesh = new THREE.Mesh(geometry, staticMaterial);\n    scene.add(mesh);\n\n    // Set renderer size based on props\n    const updateSize = () => {\n      if (width > 0 && height > 0) {\n        renderer.setSize(width, height, false);\n        staticMaterial.uniforms.resolution.value.set(width, height);\n      }\n    };\n    updateSize();\n\n    // Track distance from viewport and update chunk size\n    const updateChunkSize = () => {\n      const rect = canvas.getBoundingClientRect();\n      const viewportCenter = window.innerHeight / 2;\n      const canvasCenter = rect.top + rect.height / 2;\n      const distanceFromCenter = Math.abs(canvasCenter - viewportCenter);\n\n      // Map distance to chunk size (1px to 5px)\n      // When in viewport (distance ~0), chunk size is 1px\n      // When far from viewport, chunk size approaches 5px\n      const maxDistance = window.innerHeight;\n      const normalizedDistance = Math.min(distanceFromCenter / maxDistance, 1);\n      const chunkSize = 1 + normalizedDistance * MAX_CHUNK_SIZE; // 1 to 5px\n\n      staticMaterial.uniforms.chunkSize.value = chunkSize;\n    };\n\n    updateChunkSize();\n    window.addEventListener('scroll', updateChunkSize);\n    window.addEventListener('resize', updateChunkSize);\n\n    // Animation loop\n    let animationId: number;\n    const animate = () => {\n      animationId = requestAnimationFrame(animate);\n      staticMaterial.uniforms.time.value += 0.016; // ~60fps\n      renderer.render(scene, camera);\n    };\n    animate();\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('scroll', updateChunkSize);\n      window.removeEventListener('resize', updateChunkSize);\n      cancelAnimationFrame(animationId);\n      renderer.dispose();\n      geometry.dispose();\n      staticMaterial.dispose();\n    };\n  }, [width, height]);\n\n  return (\n    <canvas\n      className={classNames.static}\n      ref={canvasRef}\n      style={{ width: width, height: height, display: 'block' }}\n    />\n  );\n};\n","import { useRef, useEffect, useState } from 'react';\nimport classNames from '../styles.module.css';\n\ninterface SideBarsOverlayProps {\n  width: number;\n  height: number;\n}\n\nexport const SideBarsOverlay = ({ width, height }: SideBarsOverlayProps) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const animationFrameRef = useRef<number>();\n  const [centerFactor, setCenterFactor] = useState(1);\n\n  // Track vertical center position\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const updateCenterFactor = () => {\n      const rect = canvas.getBoundingClientRect();\n      const canvasCenter = rect.top + rect.height / 2;\n      const viewportCenter = window.innerHeight / 2;\n\n      // Calculate distance from viewport center (0 = centered, increases as it moves away)\n      const distanceFromCenter = Math.abs(canvasCenter - viewportCenter);\n      const maxDistance = window.innerHeight / 2 + rect.height / 2;\n\n      // Convert to a 0-1 factor where 0 = perfectly centered, 1 = at edge/off screen\n      const normalizedDistance = Math.min(distanceFromCenter / maxDistance, 1);\n\n      setCenterFactor(normalizedDistance);\n    };\n\n    updateCenterFactor();\n    window.addEventListener('scroll', updateCenterFactor);\n    window.addEventListener('resize', updateCenterFactor);\n\n    return () => {\n      window.removeEventListener('scroll', updateCenterFactor);\n      window.removeEventListener('resize', updateCenterFactor);\n    };\n  }, []);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Set canvas resolution\n    const dpr = window.devicePixelRatio || 1;\n    canvas.width = width * dpr;\n    canvas.height = height * dpr;\n    ctx.scale(dpr, dpr);\n\n    // Animation state\n    let time = 0;\n    const maxRippleWidth = width * 0.25; // Up to 25% of canvas width\n\n    // Create multiple ripple bands for more variation\n    const leftRipples = Array.from({ length: 5 }, () => ({\n      speed: 0.02 + Math.random() * 0.03,\n      offset: Math.random() * Math.PI * 2,\n      frequency: 1 + Math.random() * 2,\n    }));\n\n    const rightRipples = Array.from({ length: 5 }, () => ({\n      speed: 0.02 + Math.random() * 0.03,\n      offset: Math.random() * Math.PI * 2,\n      frequency: 1 + Math.random() * 2,\n    }));\n\n    const animate = () => {\n      // Clear canvas\n      ctx.clearRect(0, 0, width, height);\n\n      time += 0.016; // ~60fps\n\n      // Draw left side ripples\n      leftRipples.forEach((ripple) => {\n        const waveValue = Math.sin(time * ripple.speed * ripple.frequency + ripple.offset);\n        // Create sharp transitions by using step function\n        const sharpValue = waveValue > 0 ? 1 : 0;\n        const rippleWidth =\n          sharpValue * maxRippleWidth * (0.3 + Math.random() * 0.7) * centerFactor;\n\n        if (rippleWidth > 0) {\n          ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';\n          ctx.fillRect(0, 0, rippleWidth, height);\n        }\n      });\n\n      // Draw right side ripples\n      rightRipples.forEach((ripple) => {\n        const waveValue = Math.sin(time * ripple.speed * ripple.frequency + ripple.offset);\n        // Create sharp transitions by using step function\n        const sharpValue = waveValue > 0 ? 1 : 0;\n        const rippleWidth =\n          sharpValue * maxRippleWidth * (0.3 + Math.random() * 0.7) * centerFactor;\n\n        if (rippleWidth > 0) {\n          ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';\n          ctx.fillRect(width - rippleWidth, 0, rippleWidth, height);\n        }\n      });\n\n      animationFrameRef.current = requestAnimationFrame(animate);\n    };\n\n    animate();\n\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, [width, height, centerFactor]);\n\n  return (\n    <canvas\n      className={classNames.sidebars}\n      ref={canvasRef}\n      style={{ width: width, height: height, display: 'block' }}\n    />\n  );\n};\n","import { useEffect, useRef, useState } from 'react';\nimport { isWithinViewport } from '../../utils';\nimport classNames from './styles.module.css';\nimport Year from '../../components/year/year';\nimport stockVideo from './videos/s2.mp4';\nimport { VideoOverlay } from './components/videoOverlay';\nimport debounce from 'debounce';\nimport { config } from '../../data/config';\nimport { SideBarsOverlay } from './components/sideBarsOverlay';\n\nexport default function Synthesia() {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const canvasContainerRef = useRef<HTMLDivElement>(null);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const [showFullContent, setShowFullContent] = useState<boolean>(\n    window.innerWidth > config.mobileWaxWidth,\n  );\n  const [mediaSize, setMediaSize] = useState<{ width: number; height: number }>({\n    width: 0,\n    height: 0,\n  });\n  const [videoOpacity, setVideoOpacity] = useState<number>(1);\n  const [videoBlur, setVideoBlur] = useState<number>(0);\n\n  useEffect(() => {\n    const handleWidth = debounce(() => {\n      setShowFullContent(window.innerWidth > config.mobileWaxWidth);\n    }, 10);\n\n    window.addEventListener('resize', handleWidth);\n\n    return () => {\n      window.removeEventListener('resize', handleWidth);\n    };\n  }, [showFullContent]);\n\n  useEffect(() => {\n    const v = videoRef.current;\n    if (!v) return;\n    v.muted = true;\n    const onLoadedMeta = () => {\n      // Video metadata loaded\n    };\n    v.addEventListener('loadedmetadata', onLoadedMeta);\n    const p = v.play();\n    if (p && typeof (p as Promise<void>).catch === 'function') {\n      (p as Promise<void>).catch(() => void 0);\n    }\n\n    return () => {\n      v.removeEventListener('loadedmetadata', onLoadedMeta);\n    };\n  }, []);\n\n  // Compute media size: fill entire container\n  useEffect(() => {\n    const el = canvasContainerRef.current;\n    if (!el) return;\n\n    const compute = () => {\n      const rect = el.getBoundingClientRect();\n      const w = Math.max(0, rect.width);\n      const h = Math.max(0, rect.height);\n      setMediaSize({ width: Math.round(w), height: Math.round(h) });\n    };\n\n    const doCompute = debounce(compute, 10);\n    compute();\n    window.addEventListener('resize', doCompute);\n\n    return () => {\n      window.removeEventListener('resize', doCompute);\n    };\n  }, [canvasContainerRef.current]);\n\n  useEffect(() => {\n    const el = canvasContainerRef.current;\n    const v = videoRef.current;\n    if (!el || !v) return;\n\n    let observer: IntersectionObserver | null = null;\n    if ('IntersectionObserver' in globalThis) {\n      observer = new IntersectionObserver(\n        (entries) => {\n          entries.forEach((entry) => {\n            const visible = entry.isIntersecting && entry.intersectionRatio > 0.2;\n            if (visible) {\n              v.play().catch(() => void 0);\n            } else {\n              try {\n                v.pause();\n              } catch (e) {\n                void e;\n              }\n            }\n          });\n        },\n        { threshold: [0, 0.2, 0.5, 1] },\n      );\n\n      observer.observe(el);\n    } else {\n      const onCheck = () => {\n        if (isWithinViewport(el)) {\n          v.play().catch(() => void 0);\n        } else {\n          try {\n            v.pause();\n          } catch (e) {\n            void e;\n          }\n        }\n      };\n\n      globalThis.addEventListener('scroll', onCheck, { passive: true });\n      globalThis.addEventListener('resize', onCheck);\n      // initial check\n      onCheck();\n\n      return () => {\n        globalThis.removeEventListener('scroll', onCheck);\n        globalThis.removeEventListener('resize', onCheck);\n      };\n    }\n\n    return () => {\n      if (observer) observer.disconnect();\n    };\n  }, []);\n\n  // Track vertical distance from viewport center for video opacity\n  useEffect(() => {\n    const el = canvasContainerRef.current;\n    if (!el) return;\n\n    const updateOpacity = () => {\n      const rect = el.getBoundingClientRect();\n      const elementCenter = rect.top + rect.height / 2;\n      const viewportCenter = window.innerHeight / 2;\n\n      const distanceFromCenter = Math.abs(elementCenter - viewportCenter);\n      const maxDistance = window.innerHeight / 2 + rect.height / 2;\n\n      // 1 = centered (full opacity), 0 = at edge (no opacity)\n      const opacity = 1 - Math.min(distanceFromCenter / maxDistance, 1);\n      setVideoOpacity(opacity - 0.0001);\n\n      // 0 = centered (no blur), up to 5px = at edge (max blur)\n      const blurDistance = Math.min(distanceFromCenter / maxDistance, 1);\n      const blur = blurDistance * 5; // 0 to 5px\n      setVideoBlur(blur);\n    };\n\n    updateOpacity();\n    window.addEventListener('scroll', updateOpacity, { passive: true });\n    window.addEventListener('resize', updateOpacity);\n\n    return () => {\n      window.removeEventListener('scroll', updateOpacity);\n      window.removeEventListener('resize', updateOpacity);\n    };\n  }, []);\n\n  return (\n    <div className={classNames.container} ref={containerRef}>\n      <div className={classNames.content}>\n        <section className={classNames.copyContainer}>\n          <div className={classNames.copy}>\n            <Year color=\"purple\">2024</Year>\n            <h1 className=\"text-4xl font-medium mb-3\">SYNTHESIA</h1>\n            <p className=\"mb-3\">\n              Synthesia is the #1 AI Video Communications Platform. The use ultra-sophisticated\n              voice and video generation within a modern web app that enables everyone to create\n              professional videos without mics, cameras, actors or studios.\n            </p>\n            <p className=\"mb-3\">\n              I joined as a Senior Frontend Engineer in 2024, working on the UI for Avatars &amp;\n              Voice editing, as well as integrating B-Roll AI videos and images. These technologies\n              enable Synthesia&apos;s users to create ultra-realistic branded avatars using\n              professional actors, or even themselves.\n            </p>\n            <p className=\"mb-3\">\n              Extensive use was made of third party APIs, including DeepMind&apos;s{' '}\n              <a\n                className={classNames.link}\n                href=\"https://gemini.google/overview/image-generation/\"\n                rel=\"noreferrer\"\n                target=\"_blank\"\n              >\n                Nano Banana\n              </a>{' '}\n              image generation, Open AI&apos;s{' '}\n              <a\n                className={classNames.link}\n                href=\"https://openai.com/index/sora/\"\n                rel=\"noreferrer\"\n                target=\"_blank\"\n              >\n                Sora\n              </a>{' '}\n              for video generation, and{' '}\n              <a\n                className={classNames.link}\n                href=\"https://elevenlabs.io/\"\n                rel=\"noreferrer\"\n                target=\"_blank\"\n              >\n                ElevenLabs\n              </a>{' '}\n              for voice cloning. My work also involved complex state management in React, as well as\n              extensive refactoring and optimising web components to ensure they scaled as the app\n              grew and adapted to new AI features.\n            </p>\n          </div>\n        </section>\n        <section\n          className={classNames.art}\n          style={{ display: showFullContent ? 'flex' : 'none' }}\n          aria-hidden=\"true\"\n        >\n          <div className={classNames.artPadding}>\n            <div className={classNames.artContainer} ref={canvasContainerRef}>\n              <SideBarsOverlay width={mediaSize.width} height={mediaSize.height} />\n              <VideoOverlay width={mediaSize.width} height={mediaSize.height} />\n              <video\n                className={classNames.video}\n                ref={videoRef}\n                autoPlay\n                muted\n                src={stockVideo}\n                playsInline\n                width={mediaSize.width}\n                height={mediaSize.height}\n                style={{\n                  opacity: videoOpacity,\n                  filter: `blur(${videoBlur}px)`,\n                }}\n                preload=\"auto\"\n                loop\n                aria-hidden=\"true\"\n              />\n            </div>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\n"],"names":["memo","props","children","color","css","concat","classNames","_jsx","className","VideoOverlay","_ref","width","height","canvasRef","useRef","useEffect","current","canvas","scene","THREE","camera","renderer","alpha","staticMaterial","uniforms","time","value","chunkSize","resolution","clientWidth","clientHeight","vertexShader","fragmentShader","transparent","geometry","mesh","add","setSize","set","updateChunkSize","rect","getBoundingClientRect","viewportCenter","window","innerHeight","canvasCenter","top","distanceFromCenter","Math","abs","maxDistance","min","animationId","addEventListener","animate","requestAnimationFrame","render","removeEventListener","cancelAnimationFrame","dispose","static","ref","style","display","SideBarsOverlay","animationFrameRef","centerFactor","setCenterFactor","useState","updateCenterFactor","normalizedDistance","ctx","getContext","dpr","devicePixelRatio","scale","maxRippleWidth","leftRipples","Array","from","length","speed","random","offset","PI","frequency","rightRipples","clearRect","forEach","ripple","rippleWidth","sin","fillStyle","fillRect","sidebars","Synthesia","containerRef","canvasContainerRef","videoRef","showFullContent","setShowFullContent","innerWidth","config","mobileWaxWidth","mediaSize","setMediaSize","videoOpacity","setVideoOpacity","videoBlur","setVideoBlur","handleWidth","debounce","v","muted","onLoadedMeta","p","play","catch","el","compute","w","max","h","round","doCompute","observer","globalThis","onCheck","isWithinViewport","pause","e","passive","IntersectionObserver","entries","entry","isIntersecting","intersectionRatio","threshold","observe","disconnect","updateOpacity","elementCenter","opacity","blurDistance","container","_jsxs","content","copyContainer","copy","Year","link","href","rel","target","art","artPadding","artContainer","video","autoPlay","src","stockVideo","playsInline","filter","preload","loop"],"sourceRoot":""}