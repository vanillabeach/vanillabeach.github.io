{"version":3,"file":"static/js/593.312a5b22.chunk.js","mappings":"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","sources":["webpack://2024/./src/components/year/styles.module.css?07eb","components/year/year.tsx","webpack://2024/./src/slides/Nokia/components/iconStream/styles.module.css?984b","slides/Nokia/components/iconStream/index.tsx","webpack://2024/./src/slides/Nokia/styles.module.css?8550","webpack://2024/./src/slides/Nokia/components/phone/styles.module.css?6afd","slides/Nokia/components/phone/index.tsx","slides/Nokia/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"date\":\"styles_date__H0UBu\",\"black\":\"styles_black__gJz01\",\"blue\":\"styles_blue__W-SZG\",\"purple\":\"styles_purple__DjlBU\",\"white\":\"styles_white__-41bO\"};","import { memo } from 'react';\nimport classNames from './styles.module.css';\n\nexport interface YearProps {\n  children: React.ReactNode;\n  color?: 'black' | 'white' | 'blue' | 'purple' | undefined;\n}\n\nconst Year = memo(function Year(props: YearProps) {\n  const { children, color } = props;\n  let css = `${classNames.date} `;\n  switch (color) {\n    case 'black':\n      css += `${classNames.black}`;\n      break;\n    case 'blue':\n      css += `${classNames.blue}`;\n      break;\n    case 'purple':\n      css += `${classNames.purple}`;\n      break;\n    case 'white':\n      css += `${classNames.white}`;\n      break;\n    default:\n      css += `${classNames.black}`;\n  }\n\n  return <h1 className={css}>{children}</h1>;\n});\n\nexport default Year;\n","// extracted by mini-css-extract-plugin\nexport default {\"canvas\":\"styles_canvas__i6GG6\",\"show\":\"styles_show__-Wc0v\"};","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { isWithinViewport, loadImage } from '../../../../utils';\n\nimport classNames from './styles.module.css';\nimport Icon1 from './images/icon01.webp';\nimport Icon2 from './images/icon03.webp';\nimport Icon3 from './images/icon06.webp';\nimport Icon4 from './images/icon09.webp';\nimport Icon5 from './images/icon12.webp';\nimport Icon6 from './images/icon15.webp';\nimport Icon7 from './images/icon18.webp';\nimport Icon8 from './images/icon21.webp';\nimport Icon9 from './images/icon24.webp';\nimport Icon10 from './images/icon27.webp';\nimport Icon11 from './images/icon30.webp';\nimport Icon12 from './images/icon33.webp';\nimport Icon13 from './images/icon36.webp';\nimport Icon14 from './images/icon39.webp';\nimport Icon15 from './images/icon42.webp';\nimport Icon16 from './images/icon45.webp';\nimport Icon17 from './images/icon48.webp';\n\nexport interface IconStreamProps {\n  parentContainer: HTMLDivElement | null;\n}\n\nexport interface IconData {\n  x: number;\n  y: number;\n  speed: number;\n  scale: number;\n  blur: number;\n}\n\nconst NUMBER_OF_ICONS = 17;\nconst iconData: IconData[] = Array(NUMBER_OF_ICONS)\n  .fill(null)\n  .map((_, index) => {\n    const inverse = NUMBER_OF_ICONS - index;\n    const inverseRatio = inverse / NUMBER_OF_ICONS;\n\n    return {\n      x: Math.random(),\n      y: Math.random(),\n      speed: inverseRatio * 4,\n      scale: inverseRatio,\n      blur: Math.abs(Math.log(inverseRatio)),\n    };\n  })\n  .reverse();\n\nexport default function IconStream(props: IconStreamProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [ctx, setCtx] = useState<CanvasRenderingContext2D | null>();\n  const { parentContainer } = props;\n  const [icons, setIcons] = useState<HTMLImageElement[]>(null!);\n  const [iconsLoaded, setIconsLoaded] = useState<boolean>(false);\n\n  const resizeCanvas = useCallback(() => {\n    if (!parentContainer || !canvasRef?.current) {\n      return;\n    }\n\n    const canvas = canvasRef.current;\n\n    canvas.setAttribute('width', `0px`);\n    canvas.setAttribute('height', `0px`);\n    canvas.setAttribute('width', `${parentContainer.offsetWidth}px`);\n    canvas.setAttribute('height', `${parentContainer.offsetHeight}px`);\n  }, [parentContainer]);\n\n  const paint = useCallback(() => {\n    if (!parentContainer || !canvasRef?.current || !ctx || !isWithinViewport(parentContainer) || !icons) {\n      return;\n    }\n\n    const canvas = canvasRef.current;\n    ctx.clearRect(0, 0, canvas.offsetWidth, canvas.offsetHeight);\n\n    const { top } = parentContainer.getBoundingClientRect();\n\n    iconData.forEach((iconDatum, index) => {\n      const icon = icons[index];\n      let x = canvas.offsetWidth * iconDatum.x;\n      if (x > canvas.offsetWidth - 75) {\n        x -= 75;\n      }\n      let y = top * iconDatum.speed + canvas.offsetHeight * iconDatum.y;\n      if (y > canvas.offsetHeight) {\n        y = y - canvas.offsetHeight - 50;\n      } else if (y < 0) {\n        y = y + canvas.offsetHeight + 50;\n      }\n      ctx.filter = `blur(${iconDatum.blur}px)`;\n      ctx.drawImage(icon, x, y, icon.width * iconDatum.scale, icon.height * iconDatum.scale);\n    });\n  }, [icons, parentContainer, ctx]);\n\n  const loadIcons = useCallback(async () => {\n    setIcons([\n      await loadImage(Icon1),\n      await loadImage(Icon2),\n      await loadImage(Icon3),\n      await loadImage(Icon4),\n      await loadImage(Icon5),\n      await loadImage(Icon6),\n      await loadImage(Icon7),\n      await loadImage(Icon8),\n      await loadImage(Icon9),\n      await loadImage(Icon10),\n      await loadImage(Icon11),\n      await loadImage(Icon12),\n      await loadImage(Icon13),\n      await loadImage(Icon14),\n      await loadImage(Icon15),\n      await loadImage(Icon16),\n      await loadImage(Icon17),\n    ]);\n\n    setIconsLoaded(true);\n  }, []);\n\n  useEffect(() => {\n    if (!iconsLoaded) {\n      loadIcons();\n      return;\n    }\n\n    resizeCanvas();\n    requestAnimationFrame(paint);\n  }, [iconsLoaded, loadIcons, paint, resizeCanvas]);\n\n  useEffect(() => {\n    if (canvasRef?.current) {\n      setCtx(canvasRef.current.getContext('2d', { alpha: true }));\n    }\n  }, [canvasRef]);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      if (!parentContainer) {\n        return;\n      }\n\n      resizeCanvas();\n      requestAnimationFrame(paint);\n    };\n\n    const handleResize = () => {\n      if (!parentContainer) {\n        return;\n      }\n      resizeCanvas();\n      requestAnimationFrame(paint);\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [paint, parentContainer, resizeCanvas]);\n\n  return <canvas ref={canvasRef} className={classNames.canvas}></canvas>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"art\":\"styles_art__JhQtG\",\"artContainer\":\"styles_artContainer__ryDv8\",\"artPadding\":\"styles_artPadding__WYmYI\",\"copyContainer\":\"styles_copyContainer__eTi4I\",\"container\":\"styles_container__Ewguk\",\"content\":\"styles_content__-f2c7\",\"copy\":\"styles_copy__h8RN8\",\"link\":\"styles_link__lfdvL\"};","// extracted by mini-css-extract-plugin\nexport default {\"art\":\"styles_art__aVMnu\"};","import * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { isWithinViewport } from \"../../../../utils\";\nimport classNames from \"./styles.module.css\";\n\nconst loader = new GLTFLoader();\n\nfunction modelLoader(\n  url: string\n): Promise<THREE.Group<THREE.Object3DEventMap>> {\n  return new Promise((resolve, reject) => {\n    loader.load(url, (data) => resolve(data.scene), undefined, reject);\n  });\n}\n\nexport interface PhoneParams {\n  parentContainer: HTMLDivElement | null;\n}\n\nexport default function Phone(params: PhoneParams) {\n  const { parentContainer } = params;\n  const canvasContainerRef = useRef<HTMLDivElement>(null);\n  const [renderer, setRenderer] = useState<THREE.WebGLRenderer>();\n  const [camera, setCamera] = useState<THREE.PerspectiveCamera>();\n  const [scene, setScene] = useState<THREE.Scene>();\n  const [phone, setPhone] = useState<THREE.Group<THREE.Object3DEventMap>>(\n    null!\n  );\n  const [phoneReady, setPhoneReady] = useState<boolean>(false);\n  const [phoneAdded, setPhoneAdded] = useState<boolean>(false);\n  const light1 = useMemo(() => new THREE.SpotLight(0x0d58d3, 1000), []);\n  const light2 = useMemo(() => new THREE.SpotLight(0xff00ff, 1000), []);\n\n  const loadPhone = useCallback(async () => {\n    setPhone(await modelLoader(\"/models/phone.glb\"));\n    setPhoneReady(true);\n  }, []);\n\n  const setYPos = useCallback(() => {\n    if (!camera || !renderer || !scene || !parentContainer || !phone) {\n      return;\n    }\n\n    const offset = parentContainer.getBoundingClientRect().top;\n\n    phone.position.y = 0 - offset / 5;\n    phone.rotation.x = Math.PI / 2 + offset / 250;\n    phone.rotation.y = offset / -200;\n  }, [camera, parentContainer, renderer, scene, phone]);\n\n  useEffect(() => {\n    if (!scene || !renderer || !camera) {\n      return;\n    }\n\n    if (!phoneReady) {\n      loadPhone();\n      return;\n    }\n\n    if (!phoneAdded) {\n      phone.rotateX(1.7);\n      scene.add(phone);\n      setPhoneAdded(true);\n      renderer.render(scene, camera);\n    }\n  }, [\n    camera,\n    loadPhone,\n    phone,\n    phoneAdded,\n    phoneReady,\n    scene,\n    setYPos,\n    renderer,\n  ]);\n\n  useEffect(() => {\n    if (!renderer || !canvasContainerRef?.current || !scene || !camera) {\n      return;\n    }\n    if (canvasContainerRef.current.hasChildNodes() === false) {\n      canvasContainerRef.current.appendChild(renderer.domElement);\n      setYPos();\n    }\n  }, [renderer, canvasContainerRef, camera, scene, setYPos]);\n\n  useEffect(() => {\n    if (!parentContainer) {\n      return;\n    }\n\n    const { offsetWidth, offsetHeight } = parentContainer;\n    const width = offsetWidth;\n    const height = offsetHeight;\n    const zoom = 400 - Math.sqrt(width);\n    const _camera = new THREE.PerspectiveCamera(30, 1, 0.1, 2000);\n\n    _camera.rotateX(0.0);\n    _camera.rotateZ(0);\n    _camera.position.x = 20;\n    _camera.position.y = 0;\n    _camera.position.z = zoom;\n    _camera.aspect = width / height;\n    _camera.updateProjectionMatrix();\n\n    light2.position.setX(40);\n    light2.position.setY(18);\n    light2.position.setZ(25);\n    light1.position.setX(40);\n    light1.position.setY(18);\n    light1.position.setZ(60);\n    light2.angle = Math.PI;\n    setCamera(_camera);\n\n    const _scene = new THREE.Scene();\n    //_scene.add(light0);\n    _scene.add(light1);\n    _scene.add(light2);\n    setScene(_scene);\n\n    const _renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      preserveDrawingBuffer: true,\n      alpha: true,\n    });\n\n    _renderer.setSize(width, height);\n    setRenderer(_renderer);\n  }, [canvasContainerRef, light1, light2, parentContainer]);\n\n  useEffect(() => {\n    const scroll = () => {\n      if (!scene || !camera || !renderer) {\n        return;\n      }\n      if (\n        !canvasContainerRef?.current ||\n        !isWithinViewport(canvasContainerRef.current)\n      ) {\n        return;\n      }\n\n      setYPos();\n      renderer.render(scene, camera);\n    };\n\n    const resize = () => {\n      if (\n        !scene ||\n        !camera ||\n        !renderer ||\n        !parentContainer ||\n        !canvasContainerRef?.current\n      ) {\n        return;\n      }\n\n      const canvasContainer = canvasContainerRef.current;\n\n      renderer.setSize(0, 0);\n      canvasContainer.style.width = \"0px\";\n      canvasContainer.style.height = \"0px\";\n      requestAnimationFrame(() => {\n        const { offsetWidth, offsetHeight } = parentContainer;\n        const width = offsetWidth;\n        const height = offsetHeight;\n        canvasContainer.style.width = `${width}px`;\n        canvasContainer.style.height = `${height}px`;\n        camera.aspect = width / height;\n        renderer.setSize(width, height);\n        camera.updateProjectionMatrix();\n        renderer.render(scene, camera);\n      });\n    };\n\n    window.addEventListener(\"scroll\", scroll);\n    window.addEventListener(\"resize\", resize);\n\n    return () => {\n      window.removeEventListener(\"scroll\", scroll);\n      window.removeEventListener(\"resize\", resize);\n    };\n  }, [camera, renderer, scene, setYPos, parentContainer]);\n\n  return <div className={classNames.art} ref={canvasContainerRef}></div>;\n}\n","import { useRef, useState, useEffect } from 'react';\n\nimport IconStream from './components/iconStream';\nimport classNames from './styles.module.css';\nimport NokiaBackgroundImage from './images/nokia-bg.webp';\nimport Phone from './components/phone';\nimport debounce from 'debounce';\nimport { config } from '../../data/config';\nimport Year from '../../components/year/year';\n\nexport default function Nokia() {\n  const [parentContainer, setParentContainer] = useState<HTMLDivElement>(null!);\n  const parentContainerRef = useRef<HTMLDivElement>(null);\n  const [showFullContent, setShowFullContent] = useState<boolean>(\n    window.innerWidth > config.mobileWaxWidth,\n  );\n\n  useEffect(() => {\n    const handleWidth = debounce(() => {\n      setShowFullContent(window.innerWidth > config.mobileWaxWidth);\n    }, 10);\n\n    window.addEventListener('resize', handleWidth);\n\n    return () => {\n      window.removeEventListener('resize', handleWidth);\n    };\n  }, [showFullContent]);\n\n  useEffect(() => {\n    if (parentContainerRef?.current && parentContainer === null) {\n      setParentContainer(parentContainerRef.current);\n    }\n  }, [parentContainer, parentContainerRef]);\n\n  return (\n    <div\n      className={classNames.container}\n      style={{ backgroundImage: `url(${NokiaBackgroundImage})` }}\n    >\n      <div className={classNames.content}>\n        <section className={classNames.copyContainer}>\n          <div className={classNames.copy}>\n            <Year color=\"blue\">2009</Year>\n            <h1 className=\"text-4xl font-medium mb-3\">NOKIA</h1>\n            <p className=\"mb-3\">\n              Nokia is a Finnish multinational company that specialises in telecommunications. Back\n              in 2012 it was also a market leader in mobile smartphones.\n            </p>\n            <p className=\"mb-3\">\n              I worked within Nokia&apos;s IT department as a UX Engineer specialising in\n              architecting and building User Interfaces based on Nokia&apos;s brand guidelines. As\n              an individual contributor, I collaborated across a wide range of teams, culminating in\n              a company-wide project with the global head of communications.\n            </p>\n            <p>\n              Notable projects include creation of the &quot;Media Bank&quot; which unified\n              Nokia&apos;s UI assets under a single, easy-to-use web application, a global\n              &quot;number of sales&quot; ticker in every Nokia office worldwide, and the\n              &quot;Roving Reporter&quot; campaign website.\n            </p>\n          </div>\n        </section>\n        <section className={classNames.art} style={{ display: showFullContent ? 'flex' : 'none' }}>\n          <div className={classNames.artPadding}>\n            <div\n              className={classNames.artContainer}\n              ref={parentContainerRef}\n              style={{ position: 'relative' }}\n            >\n              <div\n                style={{\n                  position: 'absolute',\n                  zIndex: 0,\n                  width: '100%',\n                  height: '100%',\n                  top: 0,\n                  left: 0,\n                  right: 0,\n                  bottom: 0,\n                }}\n              >\n                <Phone parentContainer={parentContainer} />\n              </div>\n              <div\n                style={{\n                  position: 'absolute',\n                  zIndex: 1,\n                  width: '100%',\n                  height: '100%',\n                  top: 0,\n                  left: 0,\n                  right: 0,\n                  bottom: 0,\n                }}\n              >\n                <IconStream parentContainer={parentContainer} />\n              </div>\n            </div>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\n"],"names":["memo","props","children","color","css","concat","classNames","_jsx","className","iconData","Array","fill","map","_","index","inverseRatio","x","Math","random","y","speed","scale","blur","abs","log","reverse","IconStream","canvasRef","useRef","ctx","setCtx","useState","parentContainer","icons","setIcons","iconsLoaded","setIconsLoaded","resizeCanvas","useCallback","current","canvas","setAttribute","offsetWidth","offsetHeight","paint","isWithinViewport","clearRect","top","getBoundingClientRect","forEach","iconDatum","icon","filter","drawImage","width","height","loadIcons","async","loadImage","Icon1","Icon2","Icon3","Icon4","Icon5","Icon6","Icon7","Icon8","Icon9","Icon10","Icon11","Icon12","Icon13","Icon14","Icon15","Icon16","Icon17","useEffect","requestAnimationFrame","getContext","alpha","handleScroll","handleResize","window","addEventListener","removeEventListener","ref","loader","GLTFLoader","Phone","params","canvasContainerRef","renderer","setRenderer","camera","setCamera","scene","setScene","phone","setPhone","phoneReady","setPhoneReady","phoneAdded","setPhoneAdded","light1","useMemo","THREE","light2","loadPhone","url","Promise","resolve","reject","load","data","undefined","setYPos","offset","position","rotation","PI","rotateX","add","render","hasChildNodes","appendChild","domElement","zoom","sqrt","_camera","rotateZ","z","aspect","updateProjectionMatrix","setX","setY","setZ","angle","_scene","_renderer","antialias","preserveDrawingBuffer","setSize","scroll","resize","canvasContainer","style","art","Nokia","setParentContainer","parentContainerRef","showFullContent","setShowFullContent","innerWidth","config","mobileWaxWidth","handleWidth","debounce","container","backgroundImage","NokiaBackgroundImage","_jsxs","content","copyContainer","copy","Year","display","artPadding","artContainer","zIndex","left","right","bottom"],"sourceRoot":""}